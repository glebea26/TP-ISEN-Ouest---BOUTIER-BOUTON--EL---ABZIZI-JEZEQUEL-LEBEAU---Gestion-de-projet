<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trashmon Go</title>
<link rel="stylesheet" href="styles.css">

<style>
#role-popup {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}
#role-popup-content {
    background: white;
    padding: 30px;
    border-radius: 12px;
    text-align: center;
    max-width: 300px;
}
#role-popup select,
#role-popup input,
#role-popup button {
    padding: 10px;
    margin-top: 10px;
    width: 100%;
    font-size: 16px;
}
#admin-password-container {
    display: none;
}
</style>
</head>

<body>

<header class="banner">
    <h1>Trashmon Go</h1>
    <p>Attrape-les tous... avant qu'ils n'atteignent la mer !</p>
    <nav>
        <a href="index.html">Accueil</a> |
        <a href="map.html">Carte</a> |
        <a href="capture.html">Galerie</a> |
        <a href="collection.html">Collection</a> |
        <a href="profile.html">Profil</a>
    </nav>

    <!-- üîπ AFFICHAGE DU R√îLE -->
    <div id="user-role-display" style="margin-top:6px;font-weight:bold;"></div>
</header>

<div class="hero">
    <img src="ressources/trashmons/Image accueil.png" class="hero-image">
</div>

<main>
    <section class="cta">
        <button id="start-button">üå± Commencer √† nettoyer</button>
        <p>Rejoignez la communaut√© pour sauver le littoral !</p>
    </section>

    <section class="features">
        <h2>Fonctionnalit√©s</h2>
        <ul>
            <li>üßπ Collectez des Trashmons en nettoyant</li>
            <li>üåç Participez √† des √©v√©nements collectifs</li>
            <li>üìä Visualisez l'impact environnemental</li>
        </ul>
    </section>
</main>

<footer class="footer-banner">
    <p>&copy; 2026 Trashmon Go - Tous droits r√©serv√©s</p>
</footer>

<!-- POPUP R√îLE -->
<div id="role-popup">
    <div id="role-popup-content">
        <h2>Choisissez votre r√¥le</h2>

        <select id="role-select">
            <option value="">-- S√©lectionnez --</option>
            <option value="admin">Admin</option>
            <option value="user">Utilisateur</option>
        </select>

        <div id="admin-password-container">
            <input type="password" id="admin-password" placeholder="Mot de passe admin">
        </div>

        <button id="role-confirm">Confirmer</button>
    </div>
</div>

<script>
/* ==========================
   üç™ COOKIES
========================== */
function setCookie(name,value){
    document.cookie = name + "=" + value + ";path=/";
}
function deleteCookie(name){
    document.cookie = name + "=; Max-Age=0; path=/";
}

/* ==========================
   üîÑ FORCER LE CHOIX √Ä CHAQUE REFRESH
========================== */
deleteCookie("userRole");

/* ==========================
   üé≠ R√îLE UTILISATEUR
========================== */
const roleSelect = document.getElementById("role-select");
const passwordBox = document.getElementById("admin-password-container");
const rolePopup = document.getElementById("role-popup");
const roleDisplay = document.getElementById("user-role-display");

roleSelect.addEventListener("change", () => {
    passwordBox.style.display = roleSelect.value === "admin" ? "block" : "none";
});

document.getElementById("role-confirm").addEventListener("click", () => {
    const role = roleSelect.value;

    if (!role) {
        alert("Veuillez choisir un r√¥le");
        return;
    }

    if (role === "admin") {
        const pwd = document.getElementById("admin-password").value;
        if (pwd !== "trashmon123") {
            alert("Mot de passe incorrect ‚Üí utilisateur");
            setCookie("userRole","user");
            roleDisplay.innerText = "R√¥le : Utilisateur";
        } else {
            setCookie("userRole","admin");
            roleDisplay.innerText = "R√¥le : Admin";
        }
    } else {
        setCookie("userRole","user");
        roleDisplay.innerText = "R√¥le : Utilisateur";
    }

    rolePopup.style.display = "none";
});

/* ==========================
   ‚ñ∂Ô∏è BOUTON
========================== */
document.getElementById("start-button").onclick = () => {
    window.location.href = "map.html";
};
</script>

</body>
</html>






    

    

